---
title: 'Procedural Generation - Part Three - Hero Time!'
layout: post
published: '2015-01-23T11:17:00-08:00'
feed: 'Diving Into Dart'
link: 'http://divingintodart.blogspot.com/2015/01/procedural-generation-part-three-hero.html'
author:
    name: 'Davy Mitchell'
    email: noreply@blogger.com
    url: 'https://plus.google.com/112216803316701197594'
tags:
    - Canvas
    - GameDev
    - GitHub
    - Graphics
    - HTML5
    - 'Procedural Generation'
    - Web

---

<p>Last time the Dungeon was looking much better after being drawn on an HTML5 Canvas - there's even been a version created on <a href="http://dartlab.org/#1a4a447f4750f3847b60">DartLab</a>! - (compiles Dart to JS in the browser so be patient!). This time we are going to take a step back to look at how the dungeon structure was made and then add a keyboard controlled hero.</p> <div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-hywelQm1PeA/VMJzs38uaSI/AAAAAAABCQ4/pyIdW9yYr3c/s1600/player.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-hywelQm1PeA/VMJzs38uaSI/AAAAAAABCQ4/pyIdW9yYr3c/s320/player.png" /></a></div> <p>There are many algorithms available for maze and dungeon generation - some very complex. The more advanced have steps to ensure there is a valid path from start to end. Our maze is based on a simple algorithm of defining a rectangular 'room' in a given space multiple times (restricted by our parameters for height and width). This is then carried out <b>X</b> number of times.</p> <p>The list of rooms is then traversed and a corridor is constructed from room A to room B. Then B to C and so on. This means all rooms are in some way acessible. The overlaps of rooms and corridors create more interesting shapes. At this point we have only laid down floor tiles. A second scan of this map determines where walls and corner stones should be put.</p> <p>The code has been tidied up and rearranged again - the Dart Editor makes this really easy to refactor and rename items. The new version can be found under the <a href="https://github.com/daftspaniel/dart-procgendungeon/tree/master/partthree">partthree</a> folder.   <p>Code is <a href="https://github.com/daftspaniel/dart-procgendungeon">available on Github</a> and <a href="http://daftspaniel.com/dart/dungeon/partthree/">a live demo is available here</a>.</p> <p>Next time we will look at putting some items into the Dungeon, improving the generation and making more of a game display.</p>
