---
title: 'Dartino - Getting Started'
layout: post
published: '2016-06-13T11:49:00-07:00'
feed: 'Embedded Dart'
link: 'http://embeddeddart.blogspot.com/2016/06/dartino-getting-started.html'
author:
    name: 'Dan Rubel'
    email: noreply@blogger.com
    url: 'https://plus.google.com/107995219157652302605'
tags:
    - 'Dart Dartino Embedded ARM STM32'

---

<div dir="ltr">How small a device can run Dart? Raspberry Pi may be physically small and the Raspberry Pi Zero even smaller, but the Pi is a full microprocessor and runs a full Linux or Windows stack. What about microcontrollers? Running on the bare metal with limited resources?</div><div dir="ltr"><br /></div><div dir="ltr">Enter <a href="https://goo.gl/ludkoD">Dartino</a>. I've been playing around with the little brother of Dart named Dartino. It's targeted at microcontrollers with limited <u>resources</u>. Small devices with a single purpose. Thermostat. Hydroponics monitor. Weather station. While it's really great having all the capabilities of a full OS stack on the RPI, there's something really cool about plugging in a microcontroller based device and having the application running in under a second. Small. Dedicated devices. Fewer things to fail. </div><div dir="ltr"><br /></div><div dir="ltr">I started playing around with Dartino and it is still definitely in its infancy, but it recently crossed a milestone when I found I could create simple interactive apps. With the 0.4.0 release of the Dartino SDK, I built some touch based apps on the <a href="https://dartino.org/getting-started/stm32f746disco.html">STM32746 Discovery board</a> and interact with sensors via the GPIO&nbsp; API. To test the LCD and touch input, I created a simple lights out game&nbsp;(see the <a href="https://goo.gl/7GVrPO" target="_blank">code on github</a>). There is a drawing library for lines and text and a touch library for detecting user interaction. The library handles all of the low level details so that I could quickly build and test the application.</div><div dir="ltr"><br /><iframe allowfullscreen="" frameborder="0" height="315" src="https://www.youtube.com/embed/V52MKuTsf1U" width="560"></iframe></div><div dir="ltr"><br /></div><div dir="ltr">Next I created a simple 4 button "Simon" game&nbsp;(see the <a href="https://goo.gl/W8VgYP" target="_blank">code on github</a>) to test the GPIO input and output capabilities. Again there is a GPIO library for interacting with the pins so that I didn't have to worry about it. Nice to be working in a high level language on a low level device.</div><div dir="ltr"><br /><iframe allowfullscreen="" frameborder="0" height="315" src="https://www.youtube.com/embed/4nGjBwoOr0E" width="560"></iframe></div><div dir="ltr"><br /></div><div dir="ltr">Dartino provides high level libraries, making it easy to interact with the LCD and the GPIO pins.<br />For example...<br /><br />Initializing the GPIO pins...<br /><br /><table class="highlight tab-size js-file-line-container" data-tab-size="8" style="background-color: white; border-collapse: collapse; border-spacing: 0px; box-sizing: border-box; color: #333333; font-family: Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 13px; line-height: 18.2px; tab-size: 8;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td class="blob-code blob-code-inner js-file-line" id="LC29" style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; overflow: visible; padding: 0px 10px; position: relative; vertical-align: top; white-space: pre; word-wrap: normal;"><span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">List</span><span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">&lt;</span>Pin<span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">&gt;</span> leds <span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">=</span> [<span style="line-height: 16.8px;">STM32Pin.PC7</span>, <span style="line-height: 16.8px;">STM32Pin.PC6</span>, <span style="line-height: 16.8px;">STM32Pin.PG6</span>, <span style="line-height: 16.8px;">STM32Pin.PB4</span>];</td></tr></tbody></table><table class="highlight tab-size js-file-line-container" data-tab-size="8" style="background-color: white; border-collapse: collapse; border-spacing: 0px; box-sizing: border-box; color: #333333; font-family: Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 13px; line-height: 18.2px; tab-size: 8;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"></tr><tr style="box-sizing: border-box;"><td class="blob-code blob-code-inner js-file-line" id="LC63" style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; overflow: visible; padding: 0px 10px; position: relative; vertical-align: top; white-space: pre; word-wrap: normal;"><span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">List</span><span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">&lt;</span>GpioOutputPin<span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">&gt;</span> outputPins <span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">=</span> [];</td></tr><tr style="box-sizing: border-box;"><td class="blob-num js-line-number" data-line-number="64" id="L64" style="-webkit-user-select: none; border-color: rgb(238, 238, 238); border-style: solid; border-width: 0px 1px 0px 0px; box-sizing: border-box; color: rgba(0, 0, 0, 0.298039); cursor: pointer; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; line-height: 18px; min-width: 50px; padding: 0px 10px; text-align: right; vertical-align: top; white-space: nowrap; width: 50px;"></td></tr></tbody></table><br /><table class="highlight tab-size js-file-line-container" data-tab-size="8" style="background-color: white; border-collapse: collapse; border-spacing: 0px; box-sizing: border-box; color: #333333; font-family: Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 13px; line-height: 18.2px; tab-size: 8;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"></tr><tr style="box-sizing: border-box;"><td class="blob-code blob-code-inner js-file-line" id="LC71" style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; overflow: visible; padding: 0px 10px; position: relative; vertical-align: top; white-space: pre; word-wrap: normal;"><span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">for</span> (Pin led <span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">in</span> leds) {</td></tr><tr style="box-sizing: border-box;"><td class="blob-num js-line-number" data-line-number="72" id="L72" style="-webkit-user-select: none; border-color: rgb(238, 238, 238); border-style: solid; border-width: 0px 1px 0px 0px; box-sizing: border-box; color: rgba(0, 0, 0, 0.298039); cursor: pointer; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; line-height: 18px; min-width: 50px; padding: 0px 10px; text-align: right; vertical-align: top; white-space: nowrap; width: 50px;"></td></tr></tbody></table><table class="highlight tab-size js-file-line-container" data-tab-size="8" style="background-color: white; border-collapse: collapse; border-spacing: 0px; box-sizing: border-box; color: #333333; font-family: Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 13px; line-height: 18.2px; tab-size: 8;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"></tr><tr style="box-sizing: border-box;"><td class="blob-code blob-code-inner js-file-line" id="LC72" style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; overflow: visible; padding: 0px 10px; position: relative; vertical-align: top; white-space: pre; word-wrap: normal;">  outputPins.add(gpio.initOutput(led));</td></tr><tr style="box-sizing: border-box;"><td class="blob-num js-line-number" data-line-number="73" id="L73" style="-webkit-user-select: none; border-color: rgb(238, 238, 238); border-style: solid; border-width: 0px 1px 0px 0px; box-sizing: border-box; color: rgba(0, 0, 0, 0.298039); cursor: pointer; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; line-height: 18px; min-width: 50px; padding: 0px 10px; text-align: right; vertical-align: top; white-space: nowrap; width: 50px;"></td></tr></tbody></table><table class="highlight tab-size js-file-line-container" data-tab-size="8" style="background-color: white; border-collapse: collapse; border-spacing: 0px; box-sizing: border-box; color: #333333; font-family: Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 13px; line-height: 18.2px; tab-size: 8;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"></tr><tr style="box-sizing: border-box;"><td class="blob-code blob-code-inner js-file-line" id="LC73" style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; overflow: visible; padding: 0px 10px; position: relative; vertical-align: top; white-space: pre; word-wrap: normal;">}</td></tr><tr style="box-sizing: border-box;"><td class="blob-num js-line-number" data-line-number="74" id="L74" style="-webkit-user-select: none; border-color: rgb(238, 238, 238); border-style: solid; border-width: 0px 1px 0px 0px; box-sizing: border-box; color: rgba(0, 0, 0, 0.298039); cursor: pointer; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; line-height: 18px; min-width: 50px; padding: 0px 10px; text-align: right; vertical-align: top; white-space: nowrap; width: 50px;"></td></tr></tbody></table><br />Turning on one LED and turning off the others...<br /><br /><table class="highlight tab-size js-file-line-container" data-tab-size="8" style="background-color: white; border-collapse: collapse; border-spacing: 0px; box-sizing: border-box; color: #333333; font-family: Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 13px; line-height: 18.2px; tab-size: 8;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"></tr><tr style="box-sizing: border-box;"><td class="blob-code blob-code-inner js-file-line" id="LC128" style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; overflow: visible; padding: 0px 10px; position: relative; vertical-align: top; white-space: pre; word-wrap: normal;"><span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">void</span> setLeds(<span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">int</span> ledToEnable) {</td></tr><tr style="box-sizing: border-box;"><td class="blob-num js-line-number" data-line-number="129" id="L129" style="-webkit-user-select: none; border-color: rgb(238, 238, 238); border-style: solid; border-width: 0px 1px 0px 0px; box-sizing: border-box; color: rgba(0, 0, 0, 0.298039); cursor: pointer; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; line-height: 18px; min-width: 50px; padding: 0px 10px; text-align: right; vertical-align: top; white-space: nowrap; width: 50px;"></td></tr></tbody></table><table class="highlight tab-size js-file-line-container" data-tab-size="8" style="background-color: white; border-collapse: collapse; border-spacing: 0px; box-sizing: border-box; color: #333333; font-family: Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 13px; line-height: 18.2px; tab-size: 8;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"></tr><tr style="box-sizing: border-box;"><td class="blob-code blob-code-inner js-file-line" id="LC129" style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; overflow: visible; padding: 0px 10px; position: relative; vertical-align: top; white-space: pre; word-wrap: normal;"><span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">  for</span> (<span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">int</span> index <span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">=</span> <span class="pl-c1" style="box-sizing: border-box; color: #0086b3;">0</span>; index <span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">&lt;</span> outputPins.length; index<span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">++</span>) {</td></tr><tr style="box-sizing: border-box;"><td class="blob-num js-line-number" data-line-number="130" id="L130" style="-webkit-user-select: none; border-color: rgb(238, 238, 238); border-style: solid; border-width: 0px 1px 0px 0px; box-sizing: border-box; color: rgba(0, 0, 0, 0.298039); cursor: pointer; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; line-height: 18px; min-width: 50px; padding: 0px 10px; text-align: right; vertical-align: top; white-space: nowrap; width: 50px;"></td></tr></tbody></table><table class="highlight tab-size js-file-line-container" data-tab-size="8" style="background-color: white; border-collapse: collapse; border-spacing: 0px; box-sizing: border-box; color: #333333; font-family: Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 13px; line-height: 18.2px; tab-size: 8;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"></tr><tr style="box-sizing: border-box;"><td class="blob-code blob-code-inner js-file-line" id="LC130" style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; overflow: visible; padding: 0px 10px; position: relative; vertical-align: top; white-space: pre; word-wrap: normal;">    outputPins[index].state <span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">=</span> (index <span class="pl-k" style="box-sizing: border-box; color: #a71d5d;">==</span> ledToEnable);</td></tr><tr style="box-sizing: border-box;"><td class="blob-num js-line-number" data-line-number="131" id="L131" style="-webkit-user-select: none; border-color: rgb(238, 238, 238); border-style: solid; border-width: 0px 1px 0px 0px; box-sizing: border-box; color: rgba(0, 0, 0, 0.298039); cursor: pointer; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; line-height: 18px; min-width: 50px; padding: 0px 10px; text-align: right; vertical-align: top; white-space: nowrap; width: 50px;"></td></tr></tbody></table><table class="highlight tab-size js-file-line-container" data-tab-size="8" style="background-color: white; border-collapse: collapse; border-spacing: 0px; box-sizing: border-box; color: #333333; font-family: Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 13px; line-height: 18.2px; tab-size: 8;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"></tr><tr style="box-sizing: border-box;"><td class="blob-code blob-code-inner js-file-line" id="LC131" style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; overflow: visible; padding: 0px 10px; position: relative; vertical-align: top; white-space: pre; word-wrap: normal;">  }</td></tr><tr style="box-sizing: border-box;"><td class="blob-num js-line-number" data-line-number="132" id="L132" style="-webkit-user-select: none; border-color: rgb(238, 238, 238); border-style: solid; border-width: 0px 1px 0px 0px; box-sizing: border-box; color: rgba(0, 0, 0, 0.298039); cursor: pointer; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; line-height: 18px; min-width: 50px; padding: 0px 10px; text-align: right; vertical-align: top; white-space: nowrap; width: 50px;"></td></tr></tbody></table><table class="highlight tab-size js-file-line-container" data-tab-size="8" style="background-color: white; border-collapse: collapse; border-spacing: 0px; box-sizing: border-box; color: #333333; font-family: Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-size: 13px; line-height: 18.2px; tab-size: 8;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"></tr><tr style="box-sizing: border-box;"><td class="blob-code blob-code-inner js-file-line" id="LC132" style="box-sizing: border-box; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; overflow: visible; padding: 0px 10px; position: relative; vertical-align: top; white-space: pre; word-wrap: normal;">}</td></tr><tr style="box-sizing: border-box;"><td class="blob-num js-line-number" data-line-number="133" id="L133" style="-webkit-user-select: none; border-color: rgb(238, 238, 238); border-style: solid; border-width: 0px 1px 0px 0px; box-sizing: border-box; color: rgba(0, 0, 0, 0.298039); cursor: pointer; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 12px; line-height: 18px; min-width: 50px; padding: 0px 10px; text-align: right; vertical-align: top; white-space: nowrap; width: 50px;"></td></tr></tbody></table><br />There are several other languages / frameworks that I considered...<br /><br />* Implementing these samples using <b>Dart on the Raspberry Pi</b> is a definite possibility, but I wanted something that runs on a microcontroller.<br /><br />* I also considered <a href="http://goo.gl/ag2obk" target="_blank"><b>Johnny Five</b></a>, but it does not run on a microcontroller either. Instead, Johnny Five runs on a microprocessor with full OS (e.g. BeagleBone Black) or on a host machine (e.g. laptop) with the microcontroller acting as a thin client and permanently tethered to the host. I want something that runs on a microcontroller by itself.<br /><br />* These samples definitely could have been <b>written in C</b>, but I wanted to use a higher level language.<br /><br />I built all this using <a href="https://goo.gl/S0EE2o" target="_blank">Atom IDE</a> with the <a href="https://goo.gl/kYHuRD" target="_blank">Dartino plugin</a>. I find it exciting to use Dart first on servers, in the browser, on <a href="https://goo.gl/s7T60W" target="_blank">mobile devices</a>, and now on microcontrollers. Fun!</div><div dir="ltr"><br /></div>
