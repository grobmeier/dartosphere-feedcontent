---
title: 'Simple SVG Images Sometimes are Simpler'
layout: post
published: '2014-08-11T23:59:00-04:00'
feed: 'japh(r) by Chris Strom'
link: 'http://feedproxy.google.com/~r/JaphrByChrisStrom/~3/Mm1n1TkBGIc/simple-svg-images-sometimes-are-simpler.html'
author:
    name: 'Chris Strom'
    email: noreply@blogger.com
    url: 'https://plus.google.com/117928918793969810642'
tags:
    - chain
    - dart
    - dartlang
    - polymer
    - svg

---

<div class=top-chain-links></div><br />I can't remember to remember what I forgot to forget. Or something like that.<br /><br />A while back, I settled on an asset-based solution for SVG images that relied on AJAX requests to load said assets. This allowed me to work with individual SVG images for the base pizza and toppings like pepperoni, green peppers and sausage. After quite a bit of difficulty working with it, I wound up loading these assets via <a href="http://www.polymer-project.org/docs/elements/core-elements.html#core-ajax">core-ajax</a>. This was a little awkward, but it did solve some issues I was facing and the solution was bolstered by the fact that it worked in both the <a href=""http://japhr.blogspot.com/2014/05/polymer-elements-loading-svg-in-polymer.html>Dart implementation</a> as well as the <a href="http://japhr.blogspot.com/2014/06/svg-assets-in-polymer.html">JavaScript equivalent</a>.<br /><br />Happy to have a decent solution, I quickly moved on to the next challenge. I have not given it another moments thought since… until I tried to screencast the solution. At this point, I am only attempting to generate a proof-of-concept screencast before getting started on the screencasts proper for readers of the “Extras” version of <a href="http://patternsinpolymer.com/">Patterns in Polymer</a>. I hope to produce something in the range of 5-10 minutes and then get down to the real work. Only my first two passes at this project took 30+ minutes to complete.<br /><br />And so I come back to the core-ajax solution that loads assets thusly:<pre class=prettyprint>&lt;link rel="import"<br />      href="bower_components/core-ajax/core-ajax.html"><br />&lt;polymer-element name="x-pizza"><br />  &lt;template><br /><b>    &lt;core-ajax<br />       auto<br />       id="pizza.svg"<br />       url="/packages/svg_example/images/pizza.svg"<br />       on-core-response="{{responseReceived}}">&lt;/core-ajax><br />    &lt;core-ajax<br />       auto<br />       id="pepperoni.svg"<br />       url="/packages/svg_example/images/pepperoni.svg"<br />       on-core-response="{{responseReceived}}">&lt;/core-ajax></b><br />    &lt;!-- ... --><br />  &lt;/template><br />  &lt;script type="application/dart" src="x_pizza.dart">&lt;/script><br />&lt;/polymer-element></pre>The effort of typing those in the screencast was a drag, not to mention the <code>responseReceived()</code> callback. So after 30+ minutes of fighting this in the screencast, I finally stopped and asked if there might be an easier way.<br /><br />There is. The solution that I wind up using will be more SVG-like:<pre class=prettyprint>&lt;link rel="import" href="../../../packages/polymer/polymer.html"><br />&lt;polymer-element name="x-pizza"><br />  &lt;template><br />    &lt;svg<br />       id="base_svg"<br />       width="300" height="300"><br /><b>      &lt;image<br />         id="svg_pizza"<br />         width="300" height="300"<br />         xlink:href="packages/svg_example/images/pizza.svg">&lt;/image><br />      &lt;image<br />         id="svg_pepperoni"<br />         style="display:none"<br />         width="32" height="32"<br />         xlink:href="packages/svg_example/images/pepperoni.svg">&lt;/image></b><br />    &lt;!-- ... --><br />  &lt;/template><br />  &lt;script type="application/dart" src="x_pizza.dart">&lt;/script><br />&lt;/polymer-element></pre>This solution is so much cleaner than my core-ajax solution that I have to ask: why on earth would I have used core-ajax in the first place? This SVG approach seems a no-brainer.<br /><br />And it would be a no-brainer except that my brain has forgotten that the core-ajax loading was done so that I could get direct access to the underlying SVG to manipulate it. Specifically, I wanted to animate filters like <a href="http://japhr.blogspot.com/2014/05/one-svg-filter-to-rule-them-all.html">drop shadows</a>. <br /><br />And less than three month removed from that enormous pain, I had completely forgotten it. In my defense, my daughter was only 2 months old at the time, so sleep deprivation was pretty severe. Still I hope that I remember any other important information that I have forgotten that I forgot.<br /><br />Anyhow, as long as I do not attempt to introduce filters or otherwise manipulate the underlying SVG path of these SVG assets, the <code>&lt;image></code> approach works just fine:<br /><br /><a href="http://4.bp.blogspot.com/-sjQiQoX5x5Y/U-mQhe3YTwI/AAAAAAAAeM0/SmwQ-Ov8Kp4/s1600/01-dart_svg_image_no_hover.png" imageanchor="1" ><img border="0" src="http://4.bp.blogspot.com/-sjQiQoX5x5Y/U-mQhe3YTwI/AAAAAAAAeM0/SmwQ-Ov8Kp4/s400/01-dart_svg_image_no_hover.png" /></a><br /><br />I really had to get the animation working 3 months ago so that I could properly state that I understood the problem space. That said, I am under no requirement to present the most complete solution in the book or the screencast. In fact, as I have been finding, the most complete solution could very well be inappropriate. So I will switch to this simpler approach, but (maybe) mention the more complex approach. <br /><br /><br /><span style="color: #ccc">Day #149</span>  <br /><br /><p class=bottom-chain-links><a href="http://japhr.blogspot.com/2014/08/polymer-core-item.html">&lsaquo;prev</a> | <a href="http://japhr.blogspot.com/2013/11/new-chain-patterns-in-polymer.html">My Chain</a> | <span style="color: #ccc">next&rsaquo;</span> </p><script>var b_links = document.getElementsByClassName('bottom-chain-links'),      t_links = document.getElementsByClassName('top-chain-links');  if (b_links.length == 1 && t_links.length == 1) {   t_links[0].innerHTML = b_links[0].innerHTML; } </script><img src="http://feeds.feedburner.com/~r/JaphrByChrisStrom/~4/Mm1n1TkBGIc" height="1" width="1"/>
