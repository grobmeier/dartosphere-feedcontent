---
title: 'Bootstrap CSS with Polymer (Revisited)'
layout: post
published: '2014-10-01T23:59:00-04:00'
feed: 'japh(r) by Chris Strom'
link: 'http://feedproxy.google.com/~r/JaphrByChrisStrom/~3/tXuW-AjttXM/bootstrap-css-with-polymer.html'
author:
    name: 'Chris Strom'
    email: noreply@blogger.com
    url: 'https://plus.google.com/117928918793969810642'
tags:
    - bootstrap
    - chain
    - css
    - dart
    - dartlang
    - javascript
    - polymer

---

<div class=top-chain-links></div><br />I maintain that there are times that developers will want web components to look like the rest of their site, not like <a href="http://www.google.com/design/">Material Design</a>. Toward that end, I include a chapter on <a href="http://getbootstrap.com">Bootstrap CSS</a> in <a href="http://patternsinpolymer.com/">Patterns in Polymer</a>. Today, I double check that my solution stills works after upgrading all code the latest versions of <a href="https://www.dartlang.org/polymer-dart/">Polymer.dart</a> (for the <a href="http://dartlang.org">Dart</a> version of the book) and <a href="http://www.polymer-project.org/">Polymer</a> (for the JavaScript version of the book). <br /><br />And, thankfully, my solution does continue to work:<br /><br /><a href="http://4.bp.blogspot.com/-l41jCee3L8o/VCy_tI9rpEI/AAAAAAAAfzo/MzS0ti49mtQ/s1600/01-bootstrap_with_latest_polymer.png" imageanchor="1" ><img border="0" src="http://4.bp.blogspot.com/-l41jCee3L8o/VCy_tI9rpEI/AAAAAAAAfzo/MzS0ti49mtQ/s320/01-bootstrap_with_latest_polymer.png" /></a><br /><br />One could certainly argue that this solution trades one popular-on-the-verge-of-overused styling approach for another. I would probably agree. The point is not to use a specific style, just to use a common style to validate an approach. <br /><br />At the risk of spoiling the joy of reading the chapter, the solution boils down to an <code>@import</code> of the common CSS:<pre class=prettyprint>&lt;link rel="import" href="../bower_components/polymer/polymer.html"><br />&lt;polymer-element name="pricing-plan" attributes="name type size"><br />  &lt;template><br />    &lt;div class="col-md-{{size}}">&lt;!- ... -->&lt;/div><br /><b>    &lt;style><br />      @import '../bower_components/bootstrap/dist/css/bootstrap.min.css';<br />    &lt;/style></b><br />  &lt;/template><br />  &lt;script src="pricing_plan.js">&lt;/script><br />&lt;/polymer-element></pre>There is a little more to the solution (so really, you should read the book), but that is the gist. <br /><br />But this got me thinking, perhaps the <code>&lt;apply-author-styles></code> <a href="https://github.com/eee-c/apply-author-styles">custom Polymer element</a> would work as well. So, in the JavaScript version of the code, I install it with <a href="http://bower.io">Bower</a>:<pre class=prettyprint>$ bower install --save eee-c/apply-author-styles<br />...<br />bower apply-author-styles#*               install apply-author-styles#434679b8da<br />bower core-ajax#~0.3.2                    install core-ajax#0.3.6<br /><br />apply-author-styles#434679b8da bower_components/apply-author-styles<br />├── core-ajax#0.3.6<br />└── polymer#0.4.0<br /><br />core-ajax#0.3.6 bower_components/core-ajax<br />└── polymer#0.4.0<br /></pre>Then, in my Polymer element HTML definitions, I remove the <code>@import</code> style and instead add the <code>&lt;apply-author-styles></code> tag:<pre class=prettyprint>&lt;link rel="import" href="../bower_components/polymer/polymer.html"><br /><b>&lt;link rel="import"<br />      href="../bower_components/apply-author-styles/apply-author-styles.html"></b><br />&lt;polymer-element name="pricing-plan" attributes="name type size"><br />  &lt;template><br /><b>    &lt;apply-author-styles>&lt;/apply-author-styles></b><br />    &lt;div class="col-md-{{size}}">&lt;!-- ... ->&lt;/div><br />  &lt;/template><br />  &lt;script src="pricing_plan.js">&lt;/script><br />&lt;/polymer-element></pre>And that works perfectly:<br /><br /><a href="http://3.bp.blogspot.com/-cLFdeP7WM8g/VCzCEBcGkCI/AAAAAAAAfz0/VWagxWy3zHs/s1600/02-bootstrap_apply_author_styles.png" imageanchor="1" ><img border="0" src="http://3.bp.blogspot.com/-cLFdeP7WM8g/VCzCEBcGkCI/AAAAAAAAfz0/VWagxWy3zHs/s320/02-bootstrap_apply_author_styles.png" /></a><br /><br />That is nice. I do not know if I will offer that as <i>the</i> solution to applying external styles in <a href="http://patternsinpolymer.com">Patterns in Polymer</a>, but it seems worth a mention. Worth it if it works in Dart as well.<br /><br />So I switch over to the Dart version of the chapter code, which is configured to install Bower components in <code>lib/elements</code> by way of a <code>.bowerrc</code> file:<pre class=prettyprint>$ cat .bowerrc<br />{<br />  "directory": "lib/bower_components"<br />} </pre>I again execute <code>bower install --save eee-c/apply-author-styles</code>, this time in my Dart project.<br /><br />I update my element to use the Bower installed <code>&lt;apply-author-styles></code>:<pre class=prettyprint>&lt;link rel="import" href="../../../packages/polymer/polymer.html"><br /><b>&lt;link rel="import"<br />      href="../bower_components/apply-author-styles/apply-author-styles.html"></b><br />&lt;polymer-element name="pricing-plan"><br />  &lt;template><br /><b>    &lt;apply-author-styles>&lt;/apply-author-styles></b><br />    &lt;div class="col-md-{{size}}">&lt;!-- ... -->&lt;/div><br />    &lt;!-- &lt;style> --><br />    &lt;!--   @import '/packages/bootstrap_example/assets/bootstrap.min.css'; --><br />    &lt;!-- &lt;/style> --><br />  &lt;/template><br />  &lt;script type="application/dart" src="pricing_plan.dart">&lt;/script><br />&lt;/polymer-element><br /></pre>But run into problems that <a href="http://japhr.blogspot.com/2014/06/polymer-elements-in-dart.html">I have seen before</a>. Actually, when I saw this previously, the error was much more helpful. This time, all I get is:<pre class=prettyprint>Uncaught TypeError: undefined is not a function    polymer.js:96<br />  (anonymous function)                             polymer.js:96<br />  (anonymous function)                             polymer.js:99</pre>And:<pre class=prettyprint>Exception: NoSuchMethodError: method not found: 'whenPolymerReady'<br />Receiver: Instance of 'JsFunction'<br />Arguments: [Closure: () => dynamic]               package:polymer/src/loader.dart:103</pre>Eventually, I realize that the <code>polymer.js</code> generating the error is the one installed via Bower, not the one bundled with Polymer.dart. So I have to do what I did before: <i>hand-edit core-xhr.html</i> in <code>lib/bower_components</code> to point to the Polymer.dart version. Horrible.<br /><br />I do not <i>think</i> this is easily solved. It would seem that any JavaScript Polymer element that depends on core-xhr and, by extension, core-ajax, will not be usable in Polymer.dart. Since <code>&lt;apply-author-styles></code> is such a beast, it would seem that I am out of luck, leaving the <code>@import</code> solution as the best and only available. Unless I am willing to rewrite and maintain apply-author-styles in Dart as well...<br /><br /><br /><br /><span style="color: #ccc">Day #200</span>  <br /><br /><p class=bottom-chain-links><a href="http://japhr.blogspot.com/2014/09/why-am-i-getting-fouc-warning-in.html">&lsaquo;prev</a> | <a href="http://japhr.blogspot.com/2013/11/new-chain-patterns-in-polymer.html">My Chain</a> | <span style="color: #ccc">next&rsaquo;</span> </p><script>var b_links = document.getElementsByClassName('bottom-chain-links'),      t_links = document.getElementsByClassName('top-chain-links');  if (b_links.length == 1 && t_links.length == 1) {   t_links[0].innerHTML = b_links[0].innerHTML; } </script><img src="http://feeds.feedburner.com/~r/JaphrByChrisStrom/~4/tXuW-AjttXM" height="1" width="1"/>
