---
title: 'Getting Started with Core-Style for Theming Polymer'
layout: post
published: '2014-08-22T23:59:00-04:00'
feed: 'japh(r) by Chris Strom'
link: 'http://feedproxy.google.com/~r/JaphrByChrisStrom/~3/plzlo9xfnYw/getting-started-with-core-style-for.html'
author:
    name: 'Chris Strom'
    email: noreply@blogger.com
    url: 'https://plus.google.com/117928918793969810642'
tags:
    - chain
    - core-elements
    - css
    - dart
    - dartlang
    - polymer

---

<div class=top-chain-links></div><br />I have enjoyed investigating <a href="http://google.com/design/spec">Material Design</a>. It provided much needed inspiration and new ideas on design—especially with regards to the use of motion in design. I remain concerned on how or if to use things like <a href="http://www.polymer-project.org/docs/elements/paper-elements.html">Paper Elements</a> in “legacy” applications.<br /><br />Paper elements are a Material take on custom <a href="http://www.polymer-project.org/">Polymer</a> elements. They look pretty, but they wind up looking—for lack of a better word—Googly:<br /><br /><a href="http://4.bp.blogspot.com/-_9mbKHEZPpg/U_f3fqvN5tI/AAAAAAAAeno/uVBmhUsfNqM/s1600/02-roboto_dialog.png" imageanchor="1" ><img border="0" src="http://4.bp.blogspot.com/-_9mbKHEZPpg/U_f3fqvN5tI/AAAAAAAAeno/uVBmhUsfNqM/s400/02-roboto_dialog.png" /></a><br /><br />Heck, even if I am following Material design without Paper elements, I find myself building applications that might look quite at home in a Google property:<br /><br /><a href="http://3.bp.blogspot.com/-962tCCx4N4A/U_f3waa1-tI/AAAAAAAAenw/2DtbxtMFpEY/s1600/02-normal_js_core_icons.png" imageanchor="1" ><img border="0" src="http://3.bp.blogspot.com/-962tCCx4N4A/U_f3waa1-tI/AAAAAAAAenw/2DtbxtMFpEY/s400/02-normal_js_core_icons.png" /></a><br /><br />In many cases, this would be a good thing. Let's face it, if <b>I</b> am designing something, it would <a href="http://eeecomputes.com">always be a good thing</a>. But there are times that a client wants to continue using their own styles in Polymer elements. There are even times that the people writing the checks cannot be convinced to stray at all from something like Bootstrap. <br /><br />So what to do in those cases? Is a polymer element designed with Material principles impossible to use in legacy designs without looking impossibly out of place? To a certain extent, this is why <a href="http://japhr.blogspot.com/2014/06/a-tag-named-apply-author-styles.html">I built <code>&lt;apply-author-styles></code></a>—to pull styles from a containing pages into a Polymer element.<br /><br />That is helpful, but not really a theming solution. For theming, the Polymer team introduced <a href="http://www.polymer-project.org/docs/elements/core-elements.html#core-style">core-style</a>. Let's say that a client insists on a large orange border with initial caps and the lovely Arial font. From last night, paper buttons look like:<br /><br /><a href="http://1.bp.blogspot.com/-7OQMMmyyPco/U_gQoi7N4BI/AAAAAAAAeqQ/_Ia6ZcQQbLQ/s1600/01-core_style_not_applied.png" imageanchor="1" ><img border="0" src="http://1.bp.blogspot.com/-7OQMMmyyPco/U_gQoi7N4BI/AAAAAAAAeqQ/_Ia6ZcQQbLQ/s400/01-core_style_not_applied.png" /></a><br /><br />To get my legacy style in there, I can import core-style using the usual <a href="https://www.dartlang.org/polymer-dart/">Polymer.dart</a>:<pre class=prettyprint><code>  &lt;head><br />    &lt;!-- Load platform polyfills --><br />    &lt;script src="packages/web_components/platform.js">&lt;/script><br />    &lt;script src="packages/web_components/dart_support.js">&lt;/script><br /><br />    &lt;!-- Load component(s) --><br />    &lt;link rel="import"<br />          href="packages/paper_elements/paper_dialog_transition.html"><br />    &lt;link rel="import"<br />          href="packages/paper_elements/paper_dialog.html"><br />    &lt;link rel="import"<br />          href="packages/paper_elements/paper_button.html"><br /><b>    &lt;link rel="import"<br />          href="packages/core_elements/core_style.html"></b><br /><br />    &lt;!-- Start Polymer --><br />    &lt;script type="application/dart"><br />      export 'package:polymer/init.dart';<br />    &lt;/script><br />  &lt;/head></code></pre>Actually using core-style is a two step process. First I need to define the styles that I want to use:<pre class=prettyprint><code>    &lt;core-style id="legacy-button"><br />      paper-button {<br />        text-transform: initial;<br />        font-family: Arial, sans-serif;<br />        border: 5px orange solid;<br />        padding: 2px 5px;<br />      }<br />    &lt;/core-style></code></pre>That should keep my clients happy. Now I need to actually apply it. In core-style parlance, I need to reference it:<pre class=prettyprint><code>    &lt;core-style ref="legacy-button">&lt;/core-style></code></pre>With that, get:<br /><br /><a href="http://2.bp.blogspot.com/-xfNBLl3E1fw/U_gQozLpU9I/AAAAAAAAeqY/XM1DpEBEdXU/s1600/02-with_core_style.png" imageanchor="1" ><img border="0" src="http://2.bp.blogspot.com/-xfNBLl3E1fw/U_gQozLpU9I/AAAAAAAAeqY/XM1DpEBEdXU/s400/02-with_core_style.png" /></a><br /><br />This is a simple example. For actual theming, I might want to expose style variables that can be set. Core-style supports setting these in the global style group with <code>CoreStyle.g</code>. If I wanted to style my example <code>&lt;lorem-dialog></code> element, I might do so with:<pre class=prettyprint><code>    &lt;lorem-dialog>&lt;/lorem-dialog><br />    &lt;script><br /><b>      CoreStyle.g.fontFamily = 'Arial, sans-serif';<br />      CoreStyle.g.buttonBorder = '5px orange solid';</b><br />    &lt;/script><br /></code></pre>I could then apply these inside my element with something along the lines of:<pre class=prettyprint>&lt;link rel="import"<br />      href="../../../packages/polymer/polymer.html"><br />&lt;link rel="import"<br />      href="../../../packages/core_elements/core_style.html"><br />&lt;!-- ... --><br />&lt;polymer-element name="lorem-dialog"><br />  &lt;template><br />    &lt;!-- ... --><br />    &lt;core-style id="legacy-button"><br /><b>      paper-button {<br />        text-transform: initial;<br />        font-family: {{g.fontFamily}};<br />        border: {{g.buttonBorder}};<br />        padding: 2px 5px;<br />      }</b><br />    &lt;/core-style><br />    &lt;core-style ref="legacy-button">&lt;/core-style><br />  &lt;/template><br />  &lt;script type="application/dart" src="lorem_dialog.dart">&lt;/script><br />&lt;/polymer-element></pre>Only I am unable to make this work in  Polymer.dart. Try as I might, the <code>g</code> property is not available:<pre class=prettyprint>Exception: Error evaluating expression 'g.buttonBorder': Class 'LoremDialog' has no instance getter 'g'.<br /><br />NoSuchMethodError: method not found: 'g'<br />Receiver: Instance of 'LoremDialog'<br />Arguments: []</pre>Darn it. <br /><br />I <i>think</i> I am doing this right, but I am unable to discern a way to tease the <code>g</code> property into my Polymer.dart element. I will likely give this a try in JavaScript tomorrow to make sure that I am not overlooking something obvious.<br /><br /><br /><span style="color: #ccc">Day #160</span>  <br /><br /><p class=bottom-chain-links><a href="http://japhr.blogspot.com/2014/08/paper-dialog-transition-polymerdart.html">&lsaquo;prev</a> | <a href="http://japhr.blogspot.com/2013/11/new-chain-patterns-in-polymer.html">My Chain</a> | <span style="color: #ccc">next&rsaquo;</span> </p><script>var b_links = document.getElementsByClassName('bottom-chain-links'),      t_links = document.getElementsByClassName('top-chain-links');  if (b_links.length == 1 && t_links.length == 1) {   t_links[0].innerHTML = b_links[0].innerHTML; } </script><img src="http://feeds.feedburner.com/~r/JaphrByChrisStrom/~4/plzlo9xfnYw" height="1" width="1"/>
