---
title: 'Default Implementation in Dart Factory Method '
layout: post
published: '2014-06-24T23:59:00-04:00'
feed: 'japh(r) by Chris Strom'
link: 'http://feedproxy.google.com/~r/JaphrByChrisStrom/~3/JUNMzbRDeyE/default-implementation-in-dart-factory.html'
author:
    name: 'Chris Strom'
    email: noreply@blogger.com
    url: 'https://plus.google.com/117928918793969810642'
tags:
    - chain
    - dart
    - dartlang
    - 'design patterns'
    - 'factory method pattern'

---

<div class=top-chain-links></div><br />Up tonight, I continue my exploration of the <a href="http://en.wikipedia.org/wiki/Factory_method_pattern">Factory Method</a> pattern in <a href="http://dartlang.org">Dart</a>. Tonight, I explore the similarly named factory constructors for use in the pattern. <br /><br />Before starting, I note that my current framework sample code may be insufficient for adequately describing the various use-cases of Factory Method. The framework Factory Method comes from the <a href="https://github.com/eee-c/hipster-mvc">Hipster MVC</a> framework (well, toy framework largely written in support of <a href="http://dart4hipsters.com/">Dart for Hipsters</a>). The abstract creator in the framework is the collection part of the MVC. It is aptly named <code>HipsterCollection</code>:<pre class=prettyprint>abstract class HipsterCollection extends IterableBase {<br />  // ...<br />  HipsterModel modelMaker(attrs);<br />  // ...<br />}</pre>This abstract creator expects concrete creators to define <code>modelMaker()</code> with appropriate concrete products—in this case the product being a subclass of <code>HipsterModel</code>, the model in the MVC framework. The sample code that I have been using is a collection of comics books. In this case, <code>ComicBook</code> serves as the concrete product class, extending <code>HipterModel</code>. The concrete creator class, <code>ComicCollection</code>, then subclasses <code>HipsterCollection</code>, defining the <code>modelMaker()</code> factory method as:<pre class=prettyprint>class Comics extends HipsterCollection {<br />  modelMaker(attrs) => new ComicBook(attrs);<br />  // ...<br />}</pre>That implementation of the Factory Method pattern works just fine for my framework. The Hispter MVC frame work and the application that contains the code defining the abstract portions of the framework are completely separate. One can be a publicly hosted package and the other an application in a  private repository. The framework delegates the knowledge of the product class to that private application which is ideal since the publicly available framework should not have any knowledge of application code.<br /><br />Although this works fine, it does present a slight problem. Programmers using my framework will often wind up with a number of very small creator classes like <code>ComicCollection</code>:<pre class=prettyprint>class Comics extends HipsterCollection {<br />  modelMaker(attrs) => new ComicBook(attrs);<br />  get url => '/comics';<br />}</pre>As the <a href="http://en.wikipedia.org/wiki/Design_Patterns">Gang of Four book</a> puts it, “Subclassing is fine when the client has to subclass the creator class anyway, but otherwise the client now must deal with another point of evolution.” In my current <code>ComicCollection</code>, I don't <i>really</i> need to subclass <code>HipsterCollection</code>. To be sure, <code>HipsterCollection</code> should expect to be subclassed so that custom events can be set, but in this particular example, I could get away with what the Gang of Four describe as a default implementation.<br /><br /><br /><br /><br /><br /><span style="color: #ccc">Day #102</span>  <br /><br /><p class=bottom-chain-links><a href="http://japhr.blogspot.com/2014/06/named-constructors-in-dart-factory.html">&lsaquo;prev</a> | <a href="http://japhr.blogspot.com/2013/11/new-chain-patterns-in-polymer.html">My Chain</a> | <span style="color: #ccc">next&rsaquo;</span> </p><script>var b_links = document.getElementsByClassName('bottom-chain-links'),      t_links = document.getElementsByClassName('top-chain-links');  if (b_links.length == 1 && t_links.length == 1) {   t_links[0].innerHTML = b_links[0].innerHTML; } </script><img src="http://feeds.feedburner.com/~r/JaphrByChrisStrom/~4/JUNMzbRDeyE" height="1" width="1"/>
