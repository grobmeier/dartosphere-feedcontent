---
title: 'What’s your favorite Dart feature?'
layout: post
published: '2016-10-11T01:18:00-07:00'
feed: 'Dart News & Updates'
link: 'http://news.dartlang.org/2016/10/whats-your-favorite-dart-feature.html'
author:
    name: 'Anders Thorhauge Sandholm'
    email: noreply@blogger.com
    url: ''

---

<div dir="ltr" style="line-height: 1.38; margin-bottom: 3pt; margin-top: 0pt;"><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/nuklZsXAXnlSwbHoVs5fetfNUxSaYkzUgy5MIUKGwy8UhRLKvbU9DguaA4OSgwFrAzyZdJZrlcM=w1920-h1200-rw-no" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" height="64" src="https://2.bp.blogspot.com/nuklZsXAXnlSwbHoVs5fetfNUxSaYkzUgy5MIUKGwy8UhRLKvbU9DguaA4OSgwFrAzyZdJZrlcM=w1920-h1200-rw-no" width="320" /></a></div>Earlier this year we had an ongoing thread where Googlers shared their favorite Dart feature—perhaps a less known one. We wanted to share these insights from some of our most engaged internal users more broadly. Hence this post.<br /><div class="separator" style="clear: both; text-align: center;"></div><br />The names have been changed to protect the innocent, but the contents should constitute some fine reading.<br /><br />Here we go:<br /><br /><hr /><br />What's your favorite "less known" (or undocumented) feature of Dart?<br />Any particular syntax trick or library function?<br /><br />Java has loads of these, tricks ranging from the double-paren<span style="font-family: inherit;">. init (</span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">Map&lt;String,String&gt; {{ put("a", "1"); }};</span><span style="font-family: inherit;">) </span>to "sneaky throwing" ANY exception.<br />Anything similar in Dart?<br /><br />Cheers,<br />Agile Analyzer<br /><br /><hr /><br />As a Java developer, my opinion of both of those is: this is clever, but don't do it in real code under any circumstances.<br /><br />-Bug Basher<br /><br /><hr /><br />I'm not a fan of tricks, and from what I've seen so far Dart needs very few. There are some features of the language that I feel are underutilized or are very new. Here are a few:<br /><br />- <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">Null</span>&nbsp;is a type, so if you have a Future and you want to document that it doesn't return anything useful, make it a <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">Future&lt;Null&gt;</span><br />- You can throw arbitrary objects in Dart without losing stack traces: <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">throw "This is an error"</span><br />- <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">const</span> can be a local variable and it will still be allocated only once (no need to hoist it into a static field or top-level constant)<br />- You can create custom matchers and use them in your tests (<a href="https://github.com/flutter/flutter/blob/32527017531d0a9efef14f890d0502f7bf614e33/packages/flutter_test/test/widget_tester_test.dart#L12">example</a>)<br />- There exists <a href="https://www.dartdocs.org/documentation/meta/1.0.1/meta/meta-library.html">package:meta</a> that the analyzer understands, and which has @protected, @required (for required named parameters), and others<br />- You can <i>implement</i> classes as every class also exports its interface.<br /><br />-Clever Compiler<br /><br /><hr /><br />My favorite lesser-known feature is pretty simple: <b>you can define stuff outside of classes</b>.<br /><br />I see a lot of users coming to Dart from Java or C# and they are in the habit of stuffing every variable or function inside a class either because they think you have to—which you do in those languages—or out of a belief that it makes their code better in some vague "OOP paradigm is best paradigm" sort of way.<br /><br />Object-orientation is a fantastic paradigm for expressing some kinds of code. It works really well when you have interesting state and interesting operations that are deeply tied to that state. It's also great when you want polymorphism based on kinds of objects.<br /><br />But a lot of times, you're just trying to express some vanilla data or some imperative behavior. For those, classes don't provide any value. If you just want to define the value of π somewhere, you don't need a class named, like, I dunno "MathematicalConstants" to put it in. You can just do:<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">const pi = 3.1; // Eh, close enough.</span><br /><br />Likewise, sometimes all you need is a procedure, not a method. Say you create and file and write some string to it. You could make a "FileWriter" class or something, but why bother? You can just do:<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">void writeFile(String path, String contents) { ... }</span><br /><br />You might be thinking that you need to put definitions inside classes to avoid name collisions and to "namespace" things, but you don't need to do that in Dart. Libraries in Dart are the unit of namespacing and modularity. With show, hide, and import prefixes, libraries are much better at expressing namespaces and dealing with name collisions.<br /><br />If you made it this far, I will note one feature that really is rarely used. Did you know that you can define <i>getters</i> and <i>setters</i> at the top level too? You can define something that looks like a top-level variable but is actually doing computation.<br /><br />Cheers!<br />--Dart Dogfood<br /><br /><hr /><br />+1 for simple short-hands. &nbsp;When a language is young, there's a tendency to use it like that-other-thing-you-know. &nbsp;These conversations are a really good thing.<br /><br />Instead of writing:<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">if (foo == null) {</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; foo = 'bar';</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">}</span><br /><br />Just do: &nbsp;<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">foo ??= 'bar';</span><br /><br />The "cognitive load" (ahem!) is much lower. &nbsp;It's similar to Ruby's <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">foo ||= 'bar'</span> but better, because it strictly applies to nulls (vs. <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">nil</span> &amp; <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">false</span>).<br /><br />-Eager Execution<br /><br /><hr /><br />I like <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><b>??=</b></span> for lazy-initialized fields<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp;T _foo;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp;T get foo =&gt; _foo ??= _computeValue();</span><br /><br />--Failed Function<br /><br /><hr /><br />I wouldn't describe these as "favorite" features, but they do seem to be lesser known:<br /><br /><ul><li>null-aware operators, as a number of people have mentioned: <br /><a href="http://news.dartlang.org/2015/08/dart-112-released-with-null-aware.html">http://news.dartlang.org/2015/08/dart-112-released-with-null-aware.html</a></li><li>very extensive matcher library:<br /><a href="https://www.dartdocs.org/documentation/test/0.12.5+1/test/test-library.html">https://www.dartdocs.org/documentation/test/0.12.5+1/test/test-library.html</a></li><ul><li>and as “dd” pointed out, you can even write custom matchers</li></ul></ul><br />+1 to avoiding things that are "clever" but hard to read.<br /><br />--Great Googler<br /><br /><hr /><br />I don't see generators used all that much and there are some places where they really help.<br /><a href="https://www.dartlang.org/articles/language/beyond-async#generators">https://www.dartlang.org/articles/language/beyond-async#generators</a><br /><br />For some use cases a generator is going to be more readable than the alternatives, in others it's very tempting to write a 'clever' generator.<br /><br />--Heated Hotspot<br /><br /><hr /><br />One of my favourite features is that the analyzer will tell you if you use a switch statement with an enum and don't list all the enum values.<br /><br />This means that if you've been careful always to use switches when using enums (rather than if/else chains), you can just add the new value to the switch, run the analyzer, and it'll tell you all the places you need to update.<br /><br />--Injected Iterator<br /><br /><hr /><br />Thanks everybody!!!<br /><br />Lots of stuff to try out and/or read about! I've been actually thinking that something like the <a href="https://pub.dartlang.org/packages/meta">meta library</a> would be nice (and hey, it's already live!)<br /><br />Awesome thread :)<br /><br />--Agile Analyzer<br /><br /><hr /><br />My favourite Dart things are foremost the ones I created ;) ... immutable collections, immutable value types, proper enums, and object oriented serialization:<br /><br />- <a href="https://github.com/google/built_value.dart/blob/master/libraries_for_object_oriented_dart.md">https://github.com/google/built_value.dart/blob/master/libraries_for_object_oriented_dart.md</a><br /><br />And a few I didn't:<br /><br />&nbsp;- The ".." operator is a gift for anyone who likes fluent APIs.<br />&nbsp;- source_gen (and now the "build" package) really hits the sweet spot for code generation.<br /><br />Cheers<br />--JIT Juggler<br /><br /><hr /><br />Someone I was talking to mentioned another of my favourites - using interpolation instead of toString.<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; x.toString()</span><br /><br />can usually be replaced by<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; '$x' &nbsp;</span><span style="font-family: inherit;">or</span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"> &nbsp;'${x}'</span><br /><br />It is shorter, looks like it should be a string, and guarantees the result is a String (toString() may perversely return null, even in checked or strong mode).<br /><br />--Failed Function<br /><br /><hr /><br />Kinda late for the party ;)<br /><br />I just started to use Dart for two months, still so much to learn. Other than null-aware operators that is already mentioned, I also find double-dot operator very handy for method cascade.<br /><br />Instead of doing:<br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">o = new MyObject();</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">o.set(x);</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">o.set(y);</span><br /><br />Now we can:<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">o = new MyObject()</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp;..set(x)</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp;..set(y);</span><br /><br />--Klever Kompiler<br /><br /><hr /><br />Here's some I like:<br /><br />You can use 'expand' to concat lists:<br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">[[1,2,3], [4,5,6], [], [7,8,9]].expand((x) =&gt; x) // returns [1,2,3,4,5,6,7,8,9]</span><br /><br />I don't think this pattern is used often enough, abstract classes which have a forwarding factory constructor to the real implementation:<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">abstract class Foo {</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; factory Foo() = _Foo;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; // ... Foo methods ...</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">}</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span> <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">class _Foo implements Foo {</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; // ... implementation &nbsp;...</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">}</span><br /><br />This lets you put all your documentation on 'Foo' and let people call 'new Foo()' while the private class '_Foo' actually has all the implementation details that nobody cares about.<br /><br />--Linked List<br /><br /><hr /><br />This may not come up that often, but I love the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">*</span> operator on Strings (thanks Failed Function!):<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">_padRight(String message, int columns) {</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp;var padding &nbsp;= " " * (columns - message.length);</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp;return '$padding$message';</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">}</span><br /><br />--Main Method<br /><br /><hr /><br />I wouldn't call it a feature, but lot of people don't seem to realize (is it something originating from Java?) you can pass any function/method tearoff as an argument, not necessarily an anonymous literal, ie:<br /><br />Instead of <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">xs.map((x) =&gt; foo(x))</span> do <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">xs.map(foo)</span>.<br /><br />--Non Nullable<br /><br /><hr /><br />I really like functional methods in combination with tear-offs:<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">int bestScore = [1, 2, 5, 1].reduce(max);</span><br /><br />And generators.<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">/// Merge [a] and [b] until [a] is fully consumed. Then add 42.</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">Iterable&lt;int&gt; combine(Iterable&lt;int&gt; a, Iterable&lt;int&gt; b) sync* {</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; var aIterator = a.iterator;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; var bIterator = b.iterator;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; while (aIterator.moveNext()) {</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; yield aIterator.current;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; if (bIterator.moveNext()) {</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; yield bIterator.current;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; }</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; }</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; yield 42;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">}</span><br /><br /><br />Seriously, though, this whole thread should be a blogpost on <a href="http://news.dartlang.org/">news.dartlang.org</a>.<br /><br />--Optimized Object<br /><br /><hr /><br />The only question remaining now is:<br /><br /><div style="text-align: center;">What is <i><b>your</b></i> favorite Dart feature?</div><br /><br /><br /><br /></div>
