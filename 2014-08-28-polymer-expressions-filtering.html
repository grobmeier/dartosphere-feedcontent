---
title: 'Polymer Expressions – Filtering'
layout: post
published: '2014-08-28T19:26:00+00:00'
feed: 'Matt''s Blog » Dart'
link: 'http://blog.butlermatt.me/2014/08/polymer-expressions-filtering/'
author:
    name: 'Matthew Butler'
    email: null
    url: null
tags:
    - Dart
    - filter
    - Polymer
    - polymer_expressions

---

<p><img src="http://blog.butlermatt.me/wp-content/uploads/2014/08/polymer-logo.png" alt="polymer-logo" width="416" height="286" class="aligncenter size-full wp-image-162" /></p>
<p>Polymer is a great library. I use it every day and I&#8217;m often finding hidden gems that make life so much easier. Today I wanted to touch on some goodness of Polymer Expressions. In particular setting up and using filters.</p>
<p><span id="more-186"></span></p>
<p>It used to be that setting up filters in Polymer was a little bit of a task, having to create a new object which implemented or extended some kind of filter object. I don&#8217;t recall now the details, just that I recall using it was very inconvenient. I&#8217;m not sure when exactly it changed, as I gave up on filters and transformers for quite a while. However looking at them now, they have become supremely easy to use.</p>
<p>Filters can be used on single items or even in repeat templates. To show a couple small examples on how filters can be used very easily we&#8217;ll create a list which allows for a very, <em>very</em>, simple fuzzy search. In order to do this we&#8217;ll create a our own polymer component called fuzzy-list. The goal is to have a list of items which will filter based on characters typed into a text box. All items in the list should also be entirely uppercase, just to take the contrived example from the <a href="https://pub.dartlang.org/packages/polymer_expressions" title="Polymer Expressions - Pub Package Manager">Polymer Expressions Pub package</a>.</p>
<p>First we&#8217;ll setup the simple stuff for our component. Below is the initial code we&#8217;ll use, and which we&#8217;ll add to.</p>
<pre class="prettyprint linenums"><code class="language-html">&lt;link rel="import" href="packages/polymer/polymer.html"&gt;

&lt;polymer-element name="fuzzy-list"&gt;
  &lt;template&gt;
    &lt;div&gt;
      &lt;ul&gt;
        &lt;template repeat="{{ item in list }}"&gt;
          &lt;li&gt;{{ item }}&lt;/li&gt;
        &lt;/template&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;/template&gt;
  &lt;script type="application/dart" src="fuzzy_list.dart"&gt;&lt;/script&gt;
&lt;/polymer-element&gt;
</code></pre>
<p>And here&#8217;s our class:</p>
<pre class="prettyprint linenums"><code class="language-dart">import 'package:polymer/polymer.dart';

@CustomTag('fuzzy-list')
class FuzzyList extends PolymerElement {
  @observable List list;
  
  FuzzyList.created() : super.created() {
    list = toObservable(['apple','banana','orange', 'pear', 
                         'grape', 'pineapple',
                         'strawberry', 'peach']);
  }
}</code></pre>
<p>Now filters in Polymer Expressions must be a one-argument function. To start with we&#8217;ll create the simple uppercase filter. We add the following one-line function to our <code>FuzzyList</code> class.</p>
<pre class="prettyprint"><code class="language-dart">uppercase(String str) =&gt; str.toUpperCase();</code></pre>
<p>It&#8217;s really that simple. Now any String which is passed to the uppercase filter will be returned in uppercase. To see this, change <code>line 8</code> of our HTML file to be:</p>
<pre class="prettyprint"><code class="language-html">&lt;li&gt;{{item | uppercase}}&lt;/li&gt;</code></pre>
<p>That&#8217;s great, now we have a filter in place to capitalize our list. Note that this affects only the display and it does not change the contents of our original list. Now we need to be able to filter the list contents itself. Our filter should accept an argument which is the text to apply for the filter, and the list we want to filter. But Polymer Expression filters can only accept one argument, how can we pass two? First lets see the code then we&#8217;ll look at what&#