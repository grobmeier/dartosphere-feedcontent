---
title: 'Highlights from the TC52 meeting on September 21, 2015'
layout: post
published: '2015-10-21T16:26:00-07:00'
feed: 'Dart News & Updates'
link: 'http://news.dartlang.org/2015/10/highlights-from-tc52-meeting-on.html'
author:
    name: 'Anders Thorhauge Sandholm'
    email: noreply@blogger.com
    url: 'http://www.blogger.com/profile/02074725733613485890'

---

Last month we had the 9th TC52 meeting where we discussed a number of additional language features for Dart. Below is a list of the main features discussed - most noticeably the lifting of restrictions on mixins.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://img3.autodb.no/autoimg/11530647_720x0.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://img3.autodb.no/autoimg/11530647_720x0.jpg" height="240" width="320" /></a></div><b><br /></b><b>DEP update</b><br />There is a rich supply of <a href="https://github.com/dart-lang/dart_enhancement_proposals">Dart Enhancement Proposals</a> under consideration, and we spent some time discussing the underlying ideas and motivations for several DEPs.<br /><br /><b>Language extensions and modifications under consideration</b><br />Several language extensions and modifications are currently being considered in more concrete terms.<br /><br /><ul><li>Generic methods<br />This is the most complicated DEP, in particular with respect to reification of the type arguments and other typing issues. Since the previous meeting work has been conducted on prototyping features relating to this DEP, and the impact on libraries has been explored. Among the big concerns are compatibility and implementation efforts. This might not materialize before 2016.</li><li>Constant context, constant functions<br />One DEP is concerned with constant contexts. They would enable many occurrences of the keyword const to be omitted, based on being part of a larger const expression. An upcoming DEP proposes constant functions, i.e., functions that map constants to constants. Concern was expressed that constants are already rather complex. In general, we wish to keep things more stable than they have been recently.</li><li>Import configuration<br />There are many proposals for how to express configurable imports, in particular with respect to the level of static checking, and the support for library interfaces. These DEPs will not be finalized in this round.</li><li>Metaclasses<br />This DEP proposes that Type objects should have more behavior. Not much has happened in this area since the previous meeting.</li><li>Relaxing restrictions on Mixins<br />Three restrictions on mixin have been in place since their introduction in Dart. A DEP proposal for lifting two of them is available. An implementation of both features is largely ready. In particular, it has been implemented in the virtual machine dart, but work is still ongoing for dart2js. <br />The situation is as follows: There was an original proposal encompassing a rather complete feature set. This proposal was restricted, in order to make it more implementable, such that mixins must inherit from Object; mixins cannot contain super calls; and mixins cannot define constructors. We are lifting the first two of these restrictions, and keeping the third one in place at this point.</li><li>Null-aware operators<br />This feature has been adopted into the specification and implemented. It has been very well received.</li><li>Generalized tear-offs<br />This feature has been adopted and mostly implemented. There are still a number of known bugs.</li><li>Package specification<br />The language specification will state that this is an implementation dependent area. The use of a file named .packages to support the semantics of ‘package:’ imports has been implemented, and the detailed approach requires a little more flexibility than the existing specification allows. In general, we do not want to constantly adjust the specification to fit the needs of tools, which means that we will add flexibility rather than detail in these areas.</li><li>Function<br />The type Function has been used in practice as a catch-all type for functions, providing the information that a given object is intended to be used as a function, but omitting information about the number, kinds, and names of arguments as well as their types, and about the return type. Following the current language specification, Function does not have a call method, so a conforming tool (compiler, analyzer, etc.) must warn at every invocation. However, the tools have not been doing that so far. The specification will be adjusted to make Function a special case, such that the omission of these warning will be the correct behavior. We will probably treat Function as a ‘magic type’ that supports call with all shapes of argument list, and returns a value of type dynamic.</li><li>Function subtyping<br />The proposal makes function subtyping covariant in the return type, which is required in order to support message safety and in order to make refactoring safer. We discussed whether or not this topic should be considered to be part of the DEP on generic methods.</li><li>Library name conflict warnings<br />The issue is that many programmers leave out the library directive, which means that they give their libraries the empty name; with two such libraries there is a conflict because they have the same name. The slides suggest that the solution to the problem of conflicting library names is to give them a name based on the URI. However, the decision was actually to treat libraries whose name is the empty string specially, and not give a warning in that case.</li><li>‘noSuchMethod’ type checking<br />We also discussed the liberalized rule for type checking classes other than Object with an implementation of noSuchMethod(). If a class implements an interface but lacks one of the methods of the interface, or if a concrete class has an abstract method, this usually causes a warning. An exception to this rule is when the class declares a noSuchMethod(). We propose to liberalize this so that an inherited noSuchMethod() suffices (except the one from Object of course).</li><li>Assert messages<br />A new DEP is upcoming, on adding a string message to assert.</li></ul><br />The committee unanimously approved the proposal for a 4th edition of the Ecma-408 standard - including the lifting of mixin restrictions. We're now awaiting approval from the Ecma General Assembly in December, 2015. The next TC52 meeting will be held on January 13, 2016.<br /><div><br /></div>
