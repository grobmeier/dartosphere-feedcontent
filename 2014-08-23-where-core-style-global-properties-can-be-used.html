---
title: 'Where Core-Style Global Properties Can Be Used'
layout: post
published: '2014-08-23T23:59:00-04:00'
feed: 'japh(r) by Chris Strom'
link: 'http://feedproxy.google.com/~r/JaphrByChrisStrom/~3/G5EUf92TyBo/where-core-style-global-properties-can.html'
author:
    name: 'Chris Strom'
    email: noreply@blogger.com
    url: 'https://plus.google.com/117928918793969810642'
tags:
    - chain
    - core-elements
    - css
    - dart
    - dartlang
    - paper-elements
    - polymer

---

<div class=top-chain-links></div><br />I am struggling with the <a href="">core-style</a> element in <a href="https://www.dartlang.org/polymer-dart/">Polymer.dart</a>. I can implement simple stylesâ€”both as a source and referencing them later. But I have not been able to get arguably the coolest feature working yet: setting group variables.<br /><br />For instance, I might want to theme some elements with the primary color of orange. From the container page, I ought to be able to set this in a script like so:<pre class=prettyprint><code>    &lt;script><br />      CoreStyle.g.primaryColor = 'orange';<br />    &lt;/script></code></pre>Custom Polymer elements should then honor this primary color with settings like:<pre class=prettyprint>&lt;link rel="import"<br />      href="../../../packages/polymer/polymer.html"><br />&lt;!-- ... --><br />&lt;link rel="import"<br />      href="../../../packages/core_elements/core_style.html"><br />&lt;polymer-element name="lorem-dialog"><br />  &lt;template><br />    &lt;paper-button label="Bottom" on-tap="{{toggleDialog}}">&lt;/paper-button><br />    &lt;paper-button label="Center" on-tap="{{toggleDialog}}">&lt;/paper-button><br />    &lt;!-- ... --><br /><b>    &lt;core-style id="theme"><br />      paper-button {<br />        border: 5px solid {{g.primaryColor}};<br />        padding: 2px 5px;<br />      }<br />    &lt;/core-style></b><br />    &lt;core-style ref="theme">&lt;/core-style><br />  &lt;/template><br />  &lt;script type="application/dart" src="lorem_dialog.dart">&lt;/script><br />&lt;/polymer-element></pre>Try as I might, I cannot get this to work. I wind up with an error about the <code>g</code> property not being defined:<pre class=prettyprint>Exception: Error evaluating expression 'CoreStyle.g.primaryColor': Class 'LoremDialog' has no instance getter 'CoreStyle'.<br /><br />NoSuchMethodError: method not found: 'CoreStyle'<br />Receiver: Instance of 'LoremDialog'<br />Arguments: []</pre>A hint from James Hurford suggests that including the script that sets the global color on the same page that defines the styles will work:<pre class=prettyprint></pre>In fact, that does work.<br /><br />But that does not seem right to me. I feel like I ought to set the global property in the main page and use it inside Polymer elements. To decide which I right, I try it in JavaScript as well. And find, the same thing. In JavaScript, I do not get the exceptions that I do from Dart, but I still do not see global core styles inside Polymer element <code>&lt;core-style></code> elements:<pre class=prettyprint>&lt;link rel="import"<br />      href="/bower_components/polymer/polymer.html"><br />&lt;!-- ... --><br />&lt;link rel="import"<br />      href="/bower_components/core-style/core-style.html"><br />&lt;polymer-element name="lorem-dialog"><br />  &lt;template><br />    &lt;paper-button label="Bottom" on-tap="{{toggleDialog}}">&lt;/paper-button><br />    &lt;paper-button label="Center" on-tap="{{toggleDialog}}">&lt;/paper-button><br />    &lt;!-- ... --><br /><b>    &lt;core-style id="theme"><br />      :host paper-button {<br />        border: 5px solid {{g.primaryColor}};<br />        padding: 2px 5px;<br />      }<br />    &lt;/core-style><br />    &lt;core-style ref="theme">&lt;/core-style></b><br />  &lt;/template><br />  &lt;script><br />    Polymer('lorem-dialog', {/* ... */});<br />  &lt;/script><br />&lt;/polymer-element></pre>With this, I get 5px solid button borders, but the color is empty so the buttons default to black:<br /><br /><a href="http://3.bp.blogspot.com/-3zkv4dlQO60/U_llBLcC99I/AAAAAAAAetM/qLto6LrviJM/s1600/01-cant_see_global_style.png" imageanchor="1" ><img border="0" src="http://3.bp.blogspot.com/-3zkv4dlQO60/U_llBLcC99I/AAAAAAAAetM/qLto6LrviJM/s400/01-cant_see_global_style.png" /></a><br /><br />What I can do in the JavaScript version of Polymer that did not work in Polymer.dart is make a local copy of the <code>g</code> property in my sample Polymer class:<pre class=prettyprint>&lt;link rel="import"<br />      href="/bower_components/polymer/polymer.html"><br />&lt;!-- ... --><br />&lt;link rel="import"<br />      href="/bower_components/core-style/core-style.html"><br />&lt;polymer-element name="lorem-dialog"><br />  &lt;template>&lt;!-- ... --> &lt;/template><br />  &lt;script><br /><b>    Polymer('lorem-dialog', {<br />      created: function() {<br />        this.g = CoreStyle.g;<br />      },</b><br />      // ...<br />    });<br />  &lt;/script><br />&lt;/polymer-element><br /></pre>This makes the <code>g</code> property available inside the <code>&lt;template></code> of my Polymer element:<br /><br /><a href="http://4.bp.blogspot.com/-7QH5pcmPHtQ/U_llBALwGHI/AAAAAAAAetE/y3EvoylaH9o/s1600/02-can_proxy_global_style.png" imageanchor="1" ><img border="0" src="http://4.bp.blogspot.com/-7QH5pcmPHtQ/U_llBALwGHI/AAAAAAAAetE/y3EvoylaH9o/s400/02-can_proxy_global_style.png" /></a><br /><br />So am I wrong in my assumption that I should be able to set a global CoreStyle property in the containing page and use it inside elements? It sure seems that way. <br /><br /><br /><span style="color: #ccc">Day #161</span>  <br /><br /><br /><p class=bottom-chain-links><a href="http://japhr.blogspot.com/2014/08/getting-started-with-core-style-for.html">&lsaquo;prev</a> | <a href="http://japhr.blogspot.com/2013/11/new-chain-patterns-in-polymer.html">My Chain</a> | <span style="color: #ccc">next&rsaquo;</span> </p><script>var b_links = document.getElementsByClassName('bottom-chain-links'),      t_links = document.getElementsByClassName('top-chain-links');  if (b_links.length == 1 && t_links.length == 1) {   t_links[0].innerHTML = b_links[0].innerHTML; } </script><img src="http://feeds.feedburner.com/~r/JaphrByChrisStrom/~4/G5EUf92TyBo" height="1" width="1"/>
