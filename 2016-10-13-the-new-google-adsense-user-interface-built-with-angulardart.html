---
title: 'The new Google AdSense user interface: built with AngularDart'
layout: post
published: '2016-10-13T10:56:00-07:00'
feed: 'Dart News & Updates'
link: 'http://news.dartlang.org/2016/10/google-adsense-angular-dart.html'
author:
    name: 'Filip Hráček'
    email: noreply@blogger.com
    url: 'http://www.blogger.com/profile/11956836702424010051'

---

AdSense is a free, simple way to earn money by placing ads on your website. The team just launched a completely new version of their app for publishers. Read all about it <a href="https://adsense.googleblog.com/2016/10/meet-new-adsense-user-interface.html">here</a>. We asked Daniel White, the tech lead for the project, some questions because the new UI happens to be built with Dart and Angular2.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-8iJGLHsOGsg/V__Fs3UR6hI/AAAAAAAAN9g/7rBI5M9mclsLfZG7IrUxRSFazU91bc1YwCLcB/s1600/AdSense_Material%2B%25281%2529.gif" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://2.bp.blogspot.com/-8iJGLHsOGsg/V__Fs3UR6hI/AAAAAAAAN9g/7rBI5M9mclsLfZG7IrUxRSFazU91bc1YwCLcB/s640/AdSense_Material%2B%25281%2529.gif" width="640" height="401" /></a></div><br /><strong>AdSense launched way back in 2003. How long is it since the last big redesign?</strong><br />Last big redesign was called ‘AdSense 3’ and launched about 6 years ago. It was written in Google Web Toolkit (GWT) and the UI has evolved through several iterations - but this is the first ground-up redesign in 6 years. There are a number of long-standing UX issues that we’ve taken the opportunity to solve. A big shout-out to our UX team who’ve been 100% behind this project. We couldn’t have done it without them!<br /><br /><strong>How many software engineers worked on the project?</strong><br />Purely on the AdSense applications, we have a team of close to 100. Around 25% of them write Dart.<br /><br /><strong>How many lines of code?</strong><br />We have around 160K LOC of Dart.<br /><br /><strong>How long does it take to do a complete redesign like this?</strong><br />We’ve been following Dart for a long time and started to pilot it about 2.5 years ago. In the last 18 months we’ve shipped most major new features in Dart. For AdSense Material Design, we started UX work in December 2015 - coding started in February. So, 8 months.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-sqjrZZruwD0/V__HJRaQ9II/AAAAAAAAN9s/oN3U2EGgG7sfpbYakbtpcWxnyIjjbcLFwCLcB/s1600/adsense-old-vs-new.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em; border:none"><img border="0" src="https://4.bp.blogspot.com/-sqjrZZruwD0/V__HJRaQ9II/AAAAAAAAN9s/oN3U2EGgG7sfpbYakbtpcWxnyIjjbcLFwCLcB/s640/adsense-old-vs-new.png" width="640" height="210" style="border: none;  -webkit-box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.75); -moz-box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.75); box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.75);"/></a></div><br /><strong>What’s the stack?</strong><br />Strong mode Dart, Angular 2&nbsp;— we just migrated all our codebase away from AngularDart1. Java servers. We use protocol buffers to communicate between the browser and our UI servers.<br /><br />We also have an older GWT app running on the same page and we use protocol buffers to communicate between the Dart and GWT codebases.<br /><br /><strong>Have you seen any productivity improvements?</strong><br />Compared to our old GWT workflows, we see much faster iteration. Compiling and starting the server is about 8X quicker&nbsp;than it used to be. Refreshing a page is about 6-7X quicker in dev mode. Tech leads that have shipped products have estimated a 2X improvement in overall project speed&nbsp;- from beginning implementation until launch.<br /><br /><strong>How about performance improvements?</strong><br />Loading the page requires about 50% less data&nbsp;(it’s around 900K-1000K smaller - this is mostly due to a new architecture, but moving to Dart let us redesign all that stuff). Using a cold cache, the time from initial request to working UI is about 45% less.<br /><br /><strong>Were the developers happy?</strong><br />Yes. The combination of Dart and Angular is working really well for us&nbsp;- we anticipate this to improve even more now that Angular’s Dart codebase can be tailored to the language (better error messages, optimizing code size).<br /><br />When we decided to push ahead with Dart, the response from tech leads within AdSense was very enthusiastic - to the point where the small pilot team was overwhelmed with new requirements to support!<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-wUY-Ti2-YSA/V__ErFpEmUI/AAAAAAAAN9Q/gTR0c57eV70AlgqUZYZComgPUU2XutszwCLcB/s1600/IMG_1356.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://2.bp.blogspot.com/-wUY-Ti2-YSA/V__ErFpEmUI/AAAAAAAAN9Q/gTR0c57eV70AlgqUZYZComgPUU2XutszwCLcB/s640/IMG_1356.jpg" width="640" height="427" /></a></div><br /><strong>What are the advantages and disadvantages of the new stack?</strong><br />The main advantage for us is having a top quality tech stack that we can share with other Google products - shared code and components can be developed for reuse by other teams. This gives us consistent UIs and massively reduces the amount of custom code we need to write.&nbsp;The benefits of that can now be shared with the outside world too — the Material Design UI components that have been worked on by hundreds of engineers&nbsp;will be gradually released to open source.<br /><br />The disadvantages have largely been around being on the cutting edge, particularly with Angular2. We need to keep up with breaking changes in Angular. Thankfully, Angular has mostly stabilized now and we’re looking forward to 2.0 final (to be launched on the Dart Developer Summit).<br /><br /><strong>Any surprises?</strong><br />What’s been very gratifying is that investing in improved developer productivity/workflows has had visible impact on the quality of the Material Design AdSense applications. Developers feel ‘in tune’ with the page because they can see the effects of code changes very quickly, but they also get the benefit of types/refactoring/tool support that come with a statically typed language.<br /><br /><strong>Alright, so now that you launched, what’s coming next?</strong><br />Our new tech stack is going to allow us to ship higher quality changes more quickly, which is what we plan to do as we launch more Material Design changes over the coming months and years.<br /><br /><strong>Thank you, Daniel!</strong><br />Thanks!
