---
title: 'Dart Factory Method Pattern'
layout: post
published: '2014-06-21T23:59:00-04:00'
feed: 'japh(r) by Chris Strom'
link: 'http://feedproxy.google.com/~r/JaphrByChrisStrom/~3/WA7fIkvEjy0/dart-factory-method-pattern.html'
author:
    name: 'Chris Strom'
    email: noreply@blogger.com
    url: 'https://plus.google.com/117928918793969810642'
tags:
    - chain
    - dart
    - dartlang
    - design-patterns

---

<div class=top-chain-links></div><br />It's time to start laying the foundation for <a href="http://designpatternsindart.com/">Design Patterns in Dart</a>. There is still work to be done on <a href="http://patternsinpolymer.com">Patterns in Polymer</a> (especially the screencasts for “Extras” readers), but for a variety of reasons, I need to start exploring how I am going to approach a design patterns book.<br /><br />I have vague plans for how I would like to organize the book. Some of those plans will work, others… not so much. One of my best laid plans is to include examples of each pattern from the wild—similar to the <a href="http://en.wikipedia.org/wiki/Design_Patterns">original classic</a>. I am unsure how well that will work. It is difficult, at best, to find implementations of each pattern in the wild that are clean enough to lend support to a book narrative. Since Dart is so new, it will be that much more difficult to find such examples (though I have definitely seen more than a few).<br /><br />Regardless, I might as well start somewhere, so tonight… I cheat.<br /><br />I start with the <a href="http://en.wikipedia.org/wiki/Factory_method_pattern">Factory Method</a> pattern. What makes this a cheat is the source of it in the “wild.”  I first saw this in <a href="http://dartlang.org">Dart</a> when <a href="http://japhr.blogspot.com/2012/03/making-hipstermodel-even-easier.html">I used it</a> while building the <a href="https://github.com/eee-c/hipster-mvc">Hipster MVC</a> framework to support part of the narrative in <a href="http://dart4hipsters.com/">Dart for Hipsters</a>.<br /><br />I actually went out of my way to <i>not</i> refer to this as a pattern at the time, but I need to start referring to things with proper names—especially if I am going to write a book in which names are so important. So…<br /><br />Hipster MVC provides an abstract creator class in the form of <code>HispterCollection</code>:<pre class=prettyprint>abstract class HipsterCollection extends IterableBase {<br /><b>  HipsterModel modelMaker(attrs);</b><br />  String get url;<br />  // ...<br />}</pre>The <i>factory method</i> in this class is <code>modelMaker()</code>.<br /><br />The concrete creator class comes from the <a href="">dart-comics</a> repository. The <code>Comics</code> class extends the <code>HipsterCollection</code> abstract creator class and implements the creator method:<pre class=prettyprint>class Comics extends HipsterCollection {<br /><b>  modelMaker(attrs) => new ComicBook(attrs);</b><br />  get url => '/comics';<br />}</pre>Dang, that's actually a pretty nice example. Event the return type from the abstract and concrete creator classes line up. The abstract class declares it as <code>HipsterModel</code> and the concrete class returns a new <code>ComicBook</code> instance, which is a subclass of <code>HipsterModel</code>:<pre class=prettyprint>class ComicBook extends HipsterModel {<br />  ComicBook(attributes) : super(attributes);<br />}</pre>About the only thing missing is the ability to create instances of <code>ComicBook</code> from a class name instead of method. I think I will tackle that tomorrow.<br /><br /><br /><br /><span style="color: #ccc">Day #100</span>  <br /><br /><p class=bottom-chain-links><a href="http://japhr.blogspot.com/2014/06/more-dart-testing-of-javascript-polymer.html">&lsaquo;prev</a> | <a href="http://japhr.blogspot.com/2013/11/new-chain-patterns-in-polymer.html">My Chain</a> | <span style="color: #ccc">next&rsaquo;</span> </p><script>var b_links = document.getElementsByClassName('bottom-chain-links'),      t_links = document.getElementsByClassName('top-chain-links');  if (b_links.length == 1 && t_links.length == 1) {   t_links[0].innerHTML = b_links[0].innerHTML; } </script><img src="http://feeds.feedburner.com/~r/JaphrByChrisStrom/~4/WA7fIkvEjy0" height="1" width="1"/>
