---
title: 'Writing A Writing Tool - Part Two'
layout: post
published: '2014-10-24T12:08:00-07:00'
feed: 'Diving Into Dart'
link: 'http://divingintodart.blogspot.com/2014/10/writing-writing-tool-part-two.html'
author:
    name: 'Davy Mitchell'
    email: noreply@blogger.com
    url: 'https://plus.google.com/112216803316701197594'
tags:
    - CommandLine
    - Series
    - Writing

---

<p>Wow - <a href="http://divingintodart.blogspot.co.uk/2014/10/writing-writing-tool-part-one.html">Part One</a> got a few visitors! Thanks for popping by - now on with Part Two.</p> <p>Seth Ladd from the Dart team dropped a comment on the code - you'll notice all fields are lower case now :-) This was an easy change thanks to Dart Editor's built in refactoring. I have added more fields to the Chapter class and we can now create a chapter based on just the title. Named constructors coming in handy here. Two methods on Novel allow adding of Chapters and they return a reference for adding more details.</p> <div style="border:1px"><pre style="padding-left:20px;font-size:smaller"><br /><br />class Novel {<br /><br />  String title;<br />  String author;<br />  List<Chapter> chapters;<br />  Chapter recent;<br /><br />  Novel(this.title, this.author) {<br />    chapters = new List<Chapter>();<br />  }<br /><br />  Chapter addPlaceholder(Title) {<br />    var c = new Chapter.minimal(title);<br />    chapters.add(c);<br />    recent = c;<br />    return c;<br />  }<br /><br />  Chapter addChapter(Title, Summary, Characters) {<br />    var c = new Chapter.detailed(Title, Summary, Characters);<br />    chapters.add(c);<br />    recent = c;<br />    return c;<br />  }<br />}<br /><br />class Chapter {<br />  String title = "TODO";<br />  String summary = "TODO";<br />  String characters = "TODO";<br />  String pacing = "TODO";<br />  String atmosphere = "TODO";<br />  String length = "TODO";<br />  String locations = "TODO";<br /><br />  Chapter.minimal(this.title);<br />  Chapter.detailed(this.title, this.summary, this.characters);<br />}<br /><br /></pre></div> <p>Of course, our presentation layer needs a little update for all these new fields:</p> <div style="border:1px"><pre style="padding-left:20px;font-size:smaller"><br />void txtOut(Novel n) {<br /><br />  print(n.title);<br />  print(n.author);<br />  print("");<br />  print("${n.chapters.length} Chapters");<br />  print("");<br />  n.chapters.forEach((c) {<br />    print("~" * 80);<br />    print(c.title.toUpperCase());<br />    print("- " * 40);<br />    print(c.summary);<br />    print("");<br />    print("CHARACTERS : " + c.characters);<br />    print("LOCATIONS  : " + c.locations);<br />    print("PACING     : " + c.pacing);<br />    print("ATMOSPHERE : " + c.atmosphere);<br />    print("LENGTH     : " + c.length);<br />    print("");<br />  });<br />}<br /></pre></div> <p>The test novel needs expand to use the new methods and fields.</p><div style="border:1px"><pre style="padding-left:20px;font-size:smaller"><br />void main() {<br /><br />  print("Novel Planner v0.2");<br />  print("");<br /><br />  //---<br /><br />  Novel n = new Novel("Dart Chronicles", "D. Art");<br />  Chapter cur;<br /><br />  cur = n.addChapter("On A Boat", "Sailing the sea and meeting the crew.", "Sam the Sailor");<br />  cur.pacing = "Lazy";<br />  cur.atmosphere = "Inviting";<br />  cur.length = "short";<br />  cur.locations = "The North Sea";<br /><br />  cur = n.addChapter("On A Plane", "Flying High and introduce ticking bomb plot.", "Petra the Pilot");<br />  cur.pacing = "Rapid";<br />  cur.atmosphere = "Tense";<br />  cur.length = "medium";<br /><br />  cur = n.addChapter("The Moonbase", "Introduces the new location and Rab the Robot.", "Rab the Robot");<br />  cur.pacing = "Slow";<br />  cur.atmosphere = "Sterile";<br />  cur.length = "long";<br />  cur.locations = "Earth's Moon";<br /><br />  cur = n.addPlaceholder("Epilogue");<br /><br />  //---<br />  txtOut(n);<br />}<br /></pre></div> <p>Grab the code from Github - <a href="https://github.com/daftspaniel/dart-nanowrimoplanner">https://github.com/daftspaniel/dart-nanowrimoplanner</a></p> <p>Right, I think that is looking good now. I am going to feed in my current novel plan. Part Three will be based on tweaks from using it for real and suggestions from comments. Dart has been a very productive language to write this in - glad I chose it over Python for this task. Happy coding and novel writing!</p> <div style="border:1px"><pre style="padding-left:20px;font-size:smaller"><br /><br /></pre></div>
