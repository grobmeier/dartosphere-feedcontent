---
title: 'Non-Worky Attempts at Core Elements in Polymer.dart'
layout: post
published: '2014-06-05T23:59:00-04:00'
feed: 'japh(r) by Chris Strom'
link: 'http://feedproxy.google.com/~r/JaphrByChrisStrom/~3/m5YrZgD6JU0/non-worky-attempts-at-core-elements-in.html'
author:
    name: 'Chris Strom'
    email: noreply@blogger.com
    url: 'https://plus.google.com/117928918793969810642'
tags:
    - bower
    - chain
    - core-elements
    - dart
    - dartlang
    - polymer
    - polymer-elements

---

<div class=top-chain-links></div><br />I have complete faith that the <a href="https://www.dartlang.org/polymer-dart/">Polymer.dart</a> developers will resolve the <a href="http://japhr.blogspot.com/2014/06/polymer-elements-in-dart.html">core-* elements problem</a> in good order. Even so, I would like to take a quick look again tonight to see if it might be possible to better install core elements currently. This will likely wind up more of an exercise in <a href="http://bower.io">Bower</a> mechanics than anything else, but we'll see...<br /><br />The problem is that there is currently no way to install core-* elements (e.g. <code>&lt;core-ajax></code>) with Polymer.dart. The <a href="http://dartlang.org">Dart</a> version of all of these elements have all been deprecated and most did not work anyway because of a late change to the 0.10 version of Polymer.dart. Exacerbating the problem is that installing with Bower—which is already a pain in a Dart project—does not work because the <code>core-*</code> elements look for a different <code>polymer.html</code> than the one used by Polymer.dart. This results in double-loading exceptions. There are event problems with event data between the JavaScript <code>core-*</code> elements and Polymer.dart custom elements. I am not going to attempt to investigate that—I am more interested in seeing what, if anything, Bower can do to help the situation.<br /><br />I had to hand-edit the Bower installed <code>&lt;core-ajax></code> element so that it uses the same <code>polymer.html</code> as Polymer.dart:<pre class=prettyprint>&lt;!-- &lt;link rel="import" href="../polymer/polymer.html"> --><br /><b>&lt;link rel="import" href="/packages/polymer/polymer.html"></b></pre>I had hoped to find a location to bower install these core elements, but I see that is not going to work. For the installed <code>../polymer/polymer.html</code> to resolve to <code>/packages/polymer/polymer.html</code>, I would need this to be an actual Dart package. <br /><br />Bummer.<br /><br />Or is it? Maybe this would work as a separate pub package? This is definitely veering into Polymer.dart team territory, but, I am curious. I start with a new local directory and add a <code>pubspec.yaml</code>:<pre class=prettyprint>name: eee_core_ajax<br />version: 0.0.1<br />description: Core elements for Polymer<br />author: Chris Strom <chris@eeecomputes.com><br /></pre>I specify the <code>lib</code> directory for installation:<br /><code>.bowerrc</code>:<pre class=prettyprint>{<br />  "directory": "lib"<br />}</pre><br /><pre class=prettyprint>{<br />  "name": "eee_core_ajax",<br />  "version": "0.0.1",<br />  "authors": [<br />    "Chris Strom <github@eeecomputes.com>"<br />  ],<br />  "description": "Core ajax for use in Dart",<br />  "license": "MIT",<br />  "private": true,<br />  "ignore": [<br />    "**/.*",<br />    "node_modules",<br />    "bower_components",<br />    "test",<br />    "tests"<br />  ],<br />  "dependencies": {<br />  }<br />}<br /></pre>I add the latest <code>&lt;core-ajax></code> as:<pre class=prettyprint>➜  dart-core-ajax  bower install -S Polymer/core-ajax<br />bower core-ajax#*               cached git://github.com/Polymer/core-ajax.git#0.3.1<br />bower core-ajax#*             validate 0.3.1 against git://github.com/Polymer/core-ajax.git#*<br />bower polymer#>=0.3.0 <1.0.0    cached git://github.com/Polymer/polymer.git#0.3.1<br />bower polymer#>=0.3.0 <1.0.0  validate 0.3.1 against git://github.com/Polymer/polymer.git#>=0.3.0 <1.0.0<br />bower platform#>=0.3.0 <1.0.0   cached git://github.com/Polymer/platform.git#0.3.1<br />bower platform#>=0.3.0 <1.0.0 validate 0.3.1 against git://github.com/Polymer/platform.git#>=0.3.0 <1.0.0<br />bower core-component-page#>=0.3.0 <1.0.0           cached git://github.com/Polymer/core-component-page.git#0.3.1<br />bower core-component-page#>=0.3.0 <1.0.0         validate 0.3.1 against git://github.com/Polymer/core-component-page.git#>=0.3.0 <1.0.0<br />bower core-ajax#~0.3.1                            install core-ajax#0.3.1<br />bower polymer#>=0.3.0 <1.0.0                      install polymer#0.3.1<br />bower platform#>=0.3.0 <1.0.0                     install platform#0.3.1<br />bower core-component-page#>=0.3.0 <1.0.0          install core-component-page#0.3.1<br /><br />core-ajax#0.3.1 lib/core-ajax<br />└── polymer#0.3.1<br /><br />polymer#0.3.1 lib/polymer<br />├── core-component-page#0.3.1<br />└── platform#0.3.1<br /><br />platform#0.3.1 lib/platform<br /><br />core-component-page#0.3.1 lib/core-component-page<br />├── platform#0.3.1<br />└── polymer#0.3.1<br /></pre>Ah, nuts. That's not going to work.  <pre class=prettyprint>➜  dart-core-ajax  tree -L 2                       <br />.<br />├── bower.json<br />├── lib<br />│   ├── core-ajax<br />│   ├── core-component-page<br />│   ├── platform<br />│   └── polymer<br />└── pubspec.yaml<br /><br />5 directories, 2 files</pre><pre class=prettyprint>name: svg_example<br />dependencies:<br />  polymer: ">=0.10.0 &lt;0.11.0"<br /><b>  eee_core_ajax:<br />    path: /home/chris/repos/dart-core-ajax</b><br />dev_dependencies:<br />  scheduled_test: any<br />transformers:<br />- polymer:<br />    entry_points: web/index.html</pre><pre class=prettyprint><b>&lt;link rel="import"<br />      href="../../../packages/eee_core_ajax/core-ajax.html"></b><br />&lt;polymer-element name="x-pizza"><br />  &lt;template><br />    &lt;core-ajax<br />       auto<br />       id="pizza.svg"<br />       url="/packages/svg_example/images/pizza.svg"<br />       on-core-response="{{responseReceived}}">&lt;/core-ajax><br />    &lt;!-- ... --<br />  &lt;/template><br />  &lt;script type="application/dart" src="x_pizza.dart">&lt;/script><br />&lt;/polymer-element></pre>But, when I try to start pub serve, I get:<pre class=prettyprint>package:eee_core_ajax/core-xhr.html:23:1: don't know how to include eee_core_ajax|polymer/polymer.html from svg_example|web/index.html</pre>Dang it.  I could write a transformer—or even a script to change the value of the <code>core-*</code> link tag, but this already looking like too much work. Best to call it a night here and move on to more fertile territory tomorrow.    <span style="color: #ccc">Day #85</span>    <p class=bottom-chain-links><a href="http://japhr.blogspot.com/2014/06/what-heck-is-initmethod-in-polymerdart.html">&lsaquo;prev</a> | <a href="http://japhr.blogspot.com/2013/11/new-chain-patterns-in-polymer.html">My Chain</a> | <span style="color: #ccc">next&rsaquo;</span> </p><script>var b_links = document.getElementsByClassName('bottom-chain-links'),      t_links = document.getElementsByClassName('top-chain-links');  if (b_links.length == 1 && t_links.length == 1) {   t_links[0].innerHTML = b_links[0].innerHTML; } </script><img src="http://feeds.feedburner.com/~r/JaphrByChrisStrom/~4/m5YrZgD6JU0" height="1" width="1"/>
